<!DOCTYPE html>
<html lang = "pt-BR">

<head>
    <meta charset = "UTF-8">
    <meta name    = "viewport" content = "width=device-width, initial-scale=1.0">
    <title>Recuperação de Senha</title>
    <link   rel  = "stylesheet" href                                                                     = "/assets/style.css">
    <script src  = "https://cdn.tailwindcss.com"></script>
    <link   href = "https://fonts.googleapis.com/css2?family=Sorts+Mill+Goudy:ital@0;1&display=swap" rel = "stylesheet">
    <script src  = "https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src  = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src  = "https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> <!-- Inclua SweetAlert2 -->
</head>
<style>
   
      header {
      z-index: 10;
    }
      .custom-gradient2 {
      background-image: url(./img/blur.svg);
      background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
    }
        .custom-gradient {
      background: radial-gradient(circle, hsla(26, 100%, 92%, 1) 0%, rgb(250, 193, 193) 71%);
    }
</style>


 <body class="flex flex-col items-center">
 <header class = "w-full flex justify-center relative z-10">
  <nav    class = "bg-transparent shadow- w-full px-20 py-1 flex justify-between absolute items-center text-black shadow-sm">
  <div    class = "flex space-x-6">
 
        <a href="/#home" class="hover:underline text-lg">Home</a>
        <a href="/#mais-pedidos" class="hover:underline text-lg">Mais pedidos</a>
        <a href="/#sobre" class="hover:underline text-lg">Sobre</a>
        <a href="/#depoimentos" class="hover:underline text-base">Depoimentos</a>
        <a href="/#bestsellers" class="hover:underline text-base">Bestsellers</a>

        </div  class="logo-container">
          <div class="flex justify-center items-center flex-grow">
          <a href = "#"><img src = "img/logo.svg" alt = "unha" class = "h-24" /></a>
        </div>
        
     <div class="flex gap-4">
        <button onclick="window.location.href='/login'" class="px-4 py-2 text-sm border border-black rounded-3xl text-black hover:border-pink-500 hover:bg-white transition duration-100">
          Agende Aqui
        </button>
        <button onclick="window.location.href='/profile'" class="px-4 py-2 text-sm border border-black rounded-3xl text-black hover:border-pink-500 hover:bg-white transition duration-100">
          Meu perfil
        </button>
      </nav>
    </header>
  <!-- vlibras -->
    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
          <div class="vw-plugin-top-wrapper"></div>
        </div>
      </div>
      <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
      <script>
        new window.VLibras.Widget('https://vlibras.gov.br/app');
      </script>

<div class="min-h-screen flex items-center justify-center w-full custom-gradient2">
    <div class="bg-zinc-500/10 flex rounded-2xl shadow-lg max-w-4xl w-full mt-28 h-[600px] relative">
        <!-- Coluna da Imagem -->
        <div class="md:w-1/2 hidden md:block">
            <img class="rounded-l-2xl w-full h-full object-cover" 
                 src="https://img.freepik.com/fotos-gratis/mulher-cuidando-das-unhas_23-2148974583.jpg" 
                 alt="Imagem de Recuperação de Senha">
        </div>

        <!-- Coluna do Formulário -->
        <div class="p-8 w-full md:w-1/2 flex justify-center items-center">
            <div class="w-full">
                <h2 class="font-bold text-2xl text-white text-center md:text-left">Recuperação de Senha</h2>
                <p class="text-xs mt-4 text-zinc-500 text-center md:text-left">Digite seu email para recuperar sua senha.</p>
                <!-- Formulário de recuperação de senha -->
                <form id="forgot-password-form" class="flex flex-col gap-4 mt-4">
                    <input class="p-2 rounded-xl border" type="email" name="email" id="email" placeholder="Email" required>
                    <button type="submit" class="bg-black rounded-xl text-white py-2 hover:scale-105 duration-300">Recuperar Senha</button>
                </form>
                <div class="btn btn-link mt-5 text-xs border-b border-gray-400 py-4 text-zinc-500 text-center md:text-left">
                    <a href="/login">Voltar ao Login</a>
                </div>
            </div>
        </div>
    </div>
</div>


    <script>
  // Manipulador de envio de formulário de recuperação de senha
  // Manipulador de envio de formulário de recuperação de senha
  // Manipulador de envio de formulário de recuperação de senha
$('#forgot-password-form').on('submit', function (e) {
    e.preventDefault();
    const email = $('#email').val();

    $.post('/forgot-password', { email }, function (response) {
        Swal.fire({
            icon : 'success',
            title: 'E-mail enviado!',
            text : 'E-mail de recuperação enviado com sucesso!',
        });
          // Removido o redirecionamento para a página de login
    }).fail(function (xhr) {
        const errorMessage = xhr.responseJSON?.error || 'Ocorreu um erro ao enviar o e-mail.';
        Swal.fire({
            icon : 'error',
            title: 'Erro!',
            text : errorMessage,
        });
    });
});



            // Exibir SweetAlert2 em caso de erro
        const urlParams  = new URLSearchParams(window.location.search);
        const errorMsg   = urlParams.get('error');
        const successMsg = urlParams.get('success');


  if (errorMsg) {
            Swal.fire({
                icon             : 'error',
                title            : 'Erro!',
                text             : errorMsg,
                confirmButtonText: 'OK'
            });
        }
 if (successMsg) {
        Swal.fire({
            icon             : 'success',
            title            : 'Sucesso!',
            text             : successMsg,
            confirmButtonText: 'OK'
        });
        }
    </script>
</body>

</html>
